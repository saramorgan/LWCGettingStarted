<!-- Uses the Record View Form base component to display a Product2 data 
    for a single record. Also includes a Button icon base component to 
    navigate to the Product2 page for this record. -->

    <template>
        <lightning-card icon-name="standard:trailhead">
            <!-- Conditional directive only renders image when a recordId is provided -->
            <template lwc:if={recordId}>
                <span slot="title">{productName}</span>
                <!-- sldsValidatorIgnoreNextLine -->
                <lightning-button-icon
                    icon-name="utility:link"
                    slot="actions"
                    onclick={handleNavigateToRecord}>
                </lightning-button-icon>
                <div class="slds-align_absolute-center slds-var-m-horizontal_medium">
                     <!-- Conditional directive only renders content below when a recordId is NOT provided -->
                    <img lwc:if={productPictureUrl}
                        src={productPictureUrl}
                        class="product"
                        alt={name} />
                    <lightning-record-view-form
                        record-id={recordId}
                        onload={handleRecordLoaded}
                        object-api-name="Product2"
                        density="compact">
                        <lightning-output-field
                            field-name={familyField}>
                        </lightning-output-field>
                        <lightning-output-field
                            field-name={productCodeField}>
                        </lightning-output-field>
                        <lightning-output-field
                            field-name={msrpField}>
                        </lightning-output-field>
                        <lightning-output-field
                            field-name={descriptionField}>
                        </lightning-output-field>
                    </lightning-record-view-form>
                </div>
            </template>
            <!-- Conditional directive only renders content below when a recordId is NOT provided -->
            <template lwc:else>
                <div class="slds-var-p-around_large">
                    <h1 class="slds-align_absolute-center">Select a product to see details</h1>
                </div>
            </template>
        </lightning-card>
    </template>
